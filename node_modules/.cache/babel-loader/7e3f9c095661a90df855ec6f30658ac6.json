{"ast":null,"code":"import { getToken } from \"./auth-provider\";\n\nasync function client(endpoint, customConfig = {}) {\n  const token = await getToken();\n  const config = {\n    method: \"GET\",\n    headers: {\n      apiToken: `eyJhbGciOiJSUzUxMiIsInppcCI6IkRFRiJ9.eNpsj80KwjAQhN9lz0FabGvbk6JFRAsiuYmUNF0kaH5IUhRK3930IAj2tnwzszs7gOtbKIEz1YmOeWw8Oh8DAdZ3AhXHIL6wDYBbDHoHZZzFSb7MkiJK85SAQSuFc0IrB-V1AMXkFKJ1Qw_bY0UbWtXn04ZWzaXa7MIiY3XIeIHBP4wjmYnMO28E7lb3ZroTZi_4A_3-h-DbfOutoiIKQDLx_H9vzThH5XuLC64ljB8AAAD__w.FDSt9Yv5AusMAEJYsBUAJaPe8o0K92dv03pePUceaGT7cTxAvdFZX_XU527wRL-ZFM_o0uqSSbjnTXMfKmFcLewLejzoxQDVxfobpwsHxv6dOPgFc14wXppAQ_Xhknr4M-eZTMbjuT55Qaac8qoFTP0Kk4cSuuw_Wz2OZSp0TGk`,\n      \"Access-Control-Allow-Origin\": \"*\"\n    },\n    ...customConfig\n  }; //`https://dh-atrpackageinstalltest.atrmywizard-aiops.com/${endpoint}`\n  //${process.env.API_URL}/${endpoint}\n\n  const response = await window.fetch(`https://dh-atrpackageinstalltest.atrmywizard-aiops.com/atr-gateway/ticket-management/api/v1/tickets?ticketType=incident&sortDirection=DESC&page=0&perPage=10`, config);\n  const data = await response.json();\n\n  if (response.ok) {\n    console.log(data);\n    return data;\n  } else {\n    return Promise.reject(data);\n  }\n}\n\nasync function getTickets(page = 0) {\n  const TICKET_URL = `atr-gateway/ticket-management/api/v1/tickets?ticketType=incident&sortDirection=DESC&page=${page}&perPage=10`; //console.log(token)\n\n  return client(TICKET_URL).then(responseData => responseData, errorData => errorData);\n}\n\nexport { client, getTickets };","map":{"version":3,"sources":["/Users/kratichauhan/tickets-app/src/utils/api-client.ts"],"names":["getToken","client","endpoint","customConfig","token","config","method","headers","apiToken","response","window","fetch","data","json","ok","console","log","Promise","reject","getTickets","page","TICKET_URL","then","responseData","errorData"],"mappings":"AAAA,SAASA,QAAT,QAAyB,iBAAzB;;AAEA,eAAeC,MAAf,CAAsBC,QAAtB,EAAwCC,YAAY,GAAG,EAAvD,EAAwE;AACtE,QAAMC,KAAK,GAAG,MAAMJ,QAAQ,EAA5B;AACA,QAAMK,MAAM,GAAG;AACbC,IAAAA,MAAM,EAAE,KADK;AAEbC,IAAAA,OAAO,EAAE;AACPC,MAAAA,QAAQ,EAAG,qcADJ;AAEP,qCAA+B;AAFxB,KAFI;AAMb,OAAGL;AANU,GAAf,CAFsE,CAUtE;AACA;;AACA,QAAMM,QAAQ,GAAG,MAAMC,MAAM,CAACC,KAAP,CACpB,8JADoB,EAErBN,MAFqB,CAAvB;AAIA,QAAMO,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAnB;;AACA,MAAIJ,QAAQ,CAACK,EAAb,EAAiB;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACA,WAAOA,IAAP;AACD,GAHD,MAGO;AACL,WAAOK,OAAO,CAACC,MAAR,CAAeN,IAAf,CAAP;AACD;AACF;;AAED,eAAeO,UAAf,CAA0BC,IAAY,GAAG,CAAzC,EAA4C;AAC1C,QAAMC,UAAU,GAAI,4FAA2FD,IAAK,aAApH,CAD0C,CAG1C;;AAEA,SAAOnB,MAAM,CAACoB,UAAD,CAAN,CAAmBC,IAAnB,CACJC,YAAD,IAAkBA,YADb,EAEJC,SAAD,IAAeA,SAFV,CAAP;AAID;;AAED,SAASvB,MAAT,EAAiBkB,UAAjB","sourcesContent":["import { getToken } from \"./auth-provider\"\n\nasync function client(endpoint: string, customConfig = {}): Promise<{}> {\n  const token = await getToken()\n  const config = {\n    method: \"GET\",\n    headers: {\n      apiToken: `eyJhbGciOiJSUzUxMiIsInppcCI6IkRFRiJ9.eNpsj80KwjAQhN9lz0FabGvbk6JFRAsiuYmUNF0kaH5IUhRK3930IAj2tnwzszs7gOtbKIEz1YmOeWw8Oh8DAdZ3AhXHIL6wDYBbDHoHZZzFSb7MkiJK85SAQSuFc0IrB-V1AMXkFKJ1Qw_bY0UbWtXn04ZWzaXa7MIiY3XIeIHBP4wjmYnMO28E7lb3ZroTZi_4A_3-h-DbfOutoiIKQDLx_H9vzThH5XuLC64ljB8AAAD__w.FDSt9Yv5AusMAEJYsBUAJaPe8o0K92dv03pePUceaGT7cTxAvdFZX_XU527wRL-ZFM_o0uqSSbjnTXMfKmFcLewLejzoxQDVxfobpwsHxv6dOPgFc14wXppAQ_Xhknr4M-eZTMbjuT55Qaac8qoFTP0Kk4cSuuw_Wz2OZSp0TGk`,\n      \"Access-Control-Allow-Origin\": \"*\",\n    },\n    ...customConfig,\n  }\n  //`https://dh-atrpackageinstalltest.atrmywizard-aiops.com/${endpoint}`\n  //${process.env.API_URL}/${endpoint}\n  const response = await window.fetch(\n    `https://dh-atrpackageinstalltest.atrmywizard-aiops.com/atr-gateway/ticket-management/api/v1/tickets?ticketType=incident&sortDirection=DESC&page=0&perPage=10`,\n    config\n  )\n  const data = await response.json()\n  if (response.ok) {\n    console.log(data)\n    return data\n  } else {\n    return Promise.reject(data)\n  }\n}\n\nasync function getTickets(page: number = 0) {\n  const TICKET_URL = `atr-gateway/ticket-management/api/v1/tickets?ticketType=incident&sortDirection=DESC&page=${page}&perPage=10`\n\n  //console.log(token)\n\n  return client(TICKET_URL).then(\n    (responseData) => responseData,\n    (errorData) => errorData\n  )\n}\n\nexport { client, getTickets }\n"]},"metadata":{},"sourceType":"module"}