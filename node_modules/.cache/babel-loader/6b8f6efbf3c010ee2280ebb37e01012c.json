{"ast":null,"code":"import { getToken } from \"./auth-provider\";\n\nasync function client(endpoint, customConfig = {}) {\n  const config = {\n    method: \"GET\",\n    apiToken: \"token\",\n    ...customConfig\n  }; //${process.env.API_URL}/${endpoint}\n\n  const response = await window.fetch(`https://dh-atrpackageinstalltest.atrmywizard-aiops.com/{}`, config);\n  const data = await response.json();\n\n  if (response.ok) {\n    return data;\n  } else {\n    return Promise.reject(data);\n  }\n}\n\nasync function getTickets(page = 0) {\n  const TICKET_URL = `atr-gateway/ticket-management/api/v1/tickets? ticketType=incident&sortDirection=DESC&page=${page}&perPage=10`;\n  const token = await getToken();\n  console.log(token); //   return client(TICKET_URL).then(\n  //     (responseData) => responseData,\n  //     (errorData) => errorData\n  //   )\n}\n\nexport { client, getTickets };","map":{"version":3,"sources":["/Users/kratichauhan/tickets-app/src/utils/api-client.ts"],"names":["getToken","client","endpoint","customConfig","config","method","apiToken","response","window","fetch","data","json","ok","Promise","reject","getTickets","page","TICKET_URL","token","console","log"],"mappings":"AAAA,SAASA,QAAT,QAAyB,iBAAzB;;AAEA,eAAeC,MAAf,CAAsBC,QAAtB,EAAwCC,YAAY,GAAG,EAAvD,EAAwE;AACtE,QAAMC,MAAM,GAAG;AACbC,IAAAA,MAAM,EAAE,KADK;AAEbC,IAAAA,QAAQ,EAAE,OAFG;AAGb,OAAGH;AAHU,GAAf,CADsE,CAMtE;;AACA,QAAMI,QAAQ,GAAG,MAAMC,MAAM,CAACC,KAAP,CACpB,2DADoB,EAErBL,MAFqB,CAAvB;AAIA,QAAMM,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAnB;;AACA,MAAIJ,QAAQ,CAACK,EAAb,EAAiB;AACf,WAAOF,IAAP;AACD,GAFD,MAEO;AACL,WAAOG,OAAO,CAACC,MAAR,CAAeJ,IAAf,CAAP;AACD;AACF;;AAED,eAAeK,UAAf,CAA0BC,IAAY,GAAG,CAAzC,EAA4C;AAC1C,QAAMC,UAAU,GAAI,6FAA4FD,IAAK,aAArH;AACA,QAAME,KAAK,GAAG,MAAMlB,QAAQ,EAA5B;AACAmB,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAH0C,CAK1C;AACA;AACA;AACA;AACD;;AAED,SAASjB,MAAT,EAAiBc,UAAjB","sourcesContent":["import { getToken } from \"./auth-provider\"\n\nasync function client(endpoint: string, customConfig = {}): Promise<{}> {\n  const config = {\n    method: \"GET\",\n    apiToken: \"token\",\n    ...customConfig,\n  }\n  //${process.env.API_URL}/${endpoint}\n  const response = await window.fetch(\n    `https://dh-atrpackageinstalltest.atrmywizard-aiops.com/{}`,\n    config\n  )\n  const data = await response.json()\n  if (response.ok) {\n    return data\n  } else {\n    return Promise.reject(data)\n  }\n}\n\nasync function getTickets(page: number = 0) {\n  const TICKET_URL = `atr-gateway/ticket-management/api/v1/tickets? ticketType=incident&sortDirection=DESC&page=${page}&perPage=10`\n  const token = await getToken()\n  console.log(token)\n\n  //   return client(TICKET_URL).then(\n  //     (responseData) => responseData,\n  //     (errorData) => errorData\n  //   )\n}\n\nexport { client, getTickets }\n"]},"metadata":{},"sourceType":"module"}